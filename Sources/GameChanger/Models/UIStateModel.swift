// Handles ALL UI state
// Complete implementation with all UI-related state 